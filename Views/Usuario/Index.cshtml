@using SEDOGv2.Helpers;

@model IEnumerable<SEDOGv2.Models.UsuarioViewModel>

    @{
        ViewBag.Title = "Index";
        Layout = "~/Views/Shared/_LoggedIn.cshtml";
    }
                      <div class="container-fluid">
                          @using (Html.BeginForm())
                          {
                              <div class="panel panel-success">
                                  <!-- Default panel contents -->
                                  <div class="row">
                                      <div class="panel-heading  text-center">
                                          <h2>
                                              @appSettings.pageName()
                                          </h2>
                                      </div>
                                  </div>


                                  <div class="col-md-12" runat="server" id="divAlert">
                                      @ViewBag.Error
                                  </div>


                                  <div class="row">
                                      <div class="col-md-3">
                                      </div>
                                      <div class="col-md-6">
                                          <div class="panel panel-default">
                                              <div class="panel-heading"><h4>New User</h4></div>
                                              <div class="panel-body">
                                                  <div class="form-group">
                                                      <h5>Login:</h5>
                                                      <input type="text" name="txtLogin" class="form-control" placeholder="user login" />
                                                      <h5>Name:</h5>
                                                      <input type="text" name="txtNome" class="form-control" placeholder="user name" />
                                                      <h5>Email:</h5>
                                                      <input type="text" name="txtEmail" class="form-control" placeholder="email" />
                                                      <h5>Department:</h5>
                                                      <select name="selDepto" class="form-control">
                                                          @foreach(var dept in ViewBag.Departamentos)
                                                          {
                                                              <option value="@dept.DEPTO">@dept.DEPTO</option>
                                                          }
                                                      </select>
                                                      <br />
                                                      <input type="submit" name="inserir" value="Add" class="btn btn-default pull-right" />
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                      <div class="col-md-3">
                                      </div>
                                  </div>
                              </div>
                          }
                          <div class="panel panel-success panel-report">
                              <div class="row">

                                  <div class="col-md-12">
                                      <table class="table table-striped table-bordered table-inline tableSortPagging" cellspacing="0" width="100%">
                                          <thead>
                                              <tr>
                                                  <th>Login</th>
                                                  <th>Name</th>
                                                  <th>Email</th>
                                                  <th>Department</th>
                                                  <th></th>
                                              </tr>
                                              </thead>
                                              @foreach (var item in Model)
                                              {
                                                  <tr>
                                                      <td>
                                                          @Html.DisplayFor(modelItem => item.LOGIN)
                                                      </td>
                                                      <td>
                                                          @Html.DisplayFor(modelItem => item.NOME)
                                                      </td>
                                                      <td>
                                                          @Html.DisplayFor(modelItem => item.EMAIL)
                                                      </td>
                                                      <td>
                                                          @Html.DisplayFor(modelItem => item.DEPTO)
                                                      </td>
                                                      <td>
                                                          @Html.ActionLink("Edit", "Edit", new { login = item.LOGIN }, new { title = "Edit user " + @item.NOME }) |
                                                          @Html.ActionLink("Delete", "Delete", new { login = item.LOGIN }, new { title = "Delete user " + @item.NOME }) |
                                                          @Html.ActionLink("Add Department", "AddDepto", new { login = item.LOGIN }, new { title = "Add JDE Departments " + @item.NOME })
                                                      </td>
                                                  </tr>
                                              }

                                      </table>
                                  </div>
                              </div>
                          </div>
                          </div>
